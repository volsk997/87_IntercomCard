type: grid
cards:
  - type: conditional
    conditions:
      - condition: state
        entity: "12"
        state: "12"
    card:
      type: vertical-stack
      cards:
        - type: heading
          icon: mdi:information
          heading: Статусная строка
          heading_style: title
          card_mod:
            style: |
              ha-card {
                   background: rgba(200,100,0) !important;
                 }
    grid_options:
      columns: 6
      rows: auto
  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:mushroom-chips-card
        chips:
          - type: spacer
          - type: template
            icon: mdi:information
            tap_action:
              action: more-info
            hold_action:
              action: none
            double_tap_action:
              action: none
            entity: sensor.domofon_sostoianie_linii
            card_mod:
              style: |
                ha-card {
                  opacity: 0.4 }   
                ha-card:hover {
                  opacity: 1 }     
                ha-card:active {
                  scale: 0.9;
                }  
        alignment: end
        card_mod:
          style: |
            {% set top = 7 %}
            {% set chip_height = 48 %}
            {% include 'title_chips_scrollable.jinja' %}
    grid_options:
      columns: 6
      rows: auto
    card_mod:
      style: |
        {% set top = 100 %}
        {% include 'fixed_settings.jinja' %}
  - type: conditional
    conditions:
      - condition: state
        entity: "12"
        state: "12"
    card:
      type: vertical-stack
      cards:
        - type: heading
          icon: mdi:view-dashboard
          heading: Карта
          heading_style: title
          card_mod:
            style: |
              ha-card {
                   background: rgba(200,0,100) !important;
                 }
    grid_options:
      columns: 6
      rows: auto
  - type: custom:vertical-stack-in-card
    cards:
      - type: vertical-stack
        cards:
          - type: custom:mushroom-template-card
            primary: |+

            secondary: ""
            icon: ""
            picture: ""
            badge_icon: ""
            badge_color: ""
            layout: vertical
            icon_color: ""
            tap_action:
              action: none
            double_tap_action:
              action: none
            fill_container: true
            hold_action:
              action: none
            card_mod:
              style: |
                {% set domain = '' %}
                {% set file = '/local/cards_img/domofon.jpeg' %} 
                {% set entity = 'binary_sensor.domofon_vkhodiashchii_zvonok' %}
                {% set state_on = 'on' %}

                {% include 'cover_card_cover.jinja' %}
          - type: custom:mushroom-template-card
            secondary: "{% include 'last_changed_calc.jinja' %}"
            icon: ""
            picture: ""
            badge_icon: ""
            badge_color: ""
            layout: vertical
            icon_color: ""
            tap_action:
              action: none
            double_tap_action:
              action: none
            fill_container: true
            entity: binary_sensor.domofon_vkhodiashchii_zvonok
            primary: Домофон
            card_mod:
              style:
                .: |
                  {% include 'cover_device_name.jinja' %}
                mushroom-state-info$: |
                  .container {
                   --card-secondary-font-size: 15px;
                   --card-primary-font-size: 20px;
                   --card-secondary-color: rgba(var(--rgb-primary-text-color), 0.6);
                  }
          - type: conditional
            conditions:
              - condition: state
                entity: binary_sensor.domofon_vkhodiashchii_zvonok
                state: "on"
            card:
              type: custom:mushroom-chips-card
              chips:
                - type: spacer
                - type: template
                  entity: button.domofon_propustit
                  tap_action:
                    action: toggle
                  hold_action:
                    action: none
                  double_tap_action:
                    action: none
                  icon: mdi:check
                  icon_color: green
                  card_mod:
                    style:
                      .: |
                        {% set hover = 'true' %}
                        {% set stating = 'true' %}
                        {% set state_on = 'on' %}
                        {% include 'chip_settings_style.jinja' %}
                - type: spacer
                - type: template
                  icon: mdi:close
                  icon_color: red
                  entity: button.domofon_otkazat
                  tap_action:
                    action: toggle
                  hold_action:
                    action: none
                  double_tap_action:
                    action: none
                  card_mod:
                    style:
                      .: |
                        {% set hover = 'true' %}
                        {% set stating = 'true' %}
                        {% set state_on = 'on' %}
                        {% include 'chip_settings_style.jinja' %}
                - type: spacer
              alignment: justify
              card_mod:
                style:
                  .: |
                    {% include 'chip_buttons_big.jinja' %}
        grid_options:
          columns: 24
          rows: auto
        card_mod:
          style: |
            ha-card:before {
              transform: translate3d(0,0,0);
              -webkit-transform: translate3d(0,0,0);
              content: "";
              position: absolute;
              height: 100%;
              width: 100%;

              background: transparent !important;
              filter: blur(0px) saturate(200%);
              background-size: 100% 100%;
            }
            ha-card {

            background-color: transparent !important;
            padding: 0px;
              transform: translate3d(0,0,0);
              -webkit-transform: translate3d(0,0,0);

            }
    grid_options:
      columns: 6
      rows: auto
    card_mod:
      style: |
        {% set top = 160 %}
        {% include 'fixed_settings.jinja' %}
  - type: vertical-stack
    cards:
      - type: conditional
        conditions:
          - condition: state
            entity: "12"
            state: "12"
        card:
          type: vertical-stack
          cards:
            - type: heading
              icon: mdi:dialpad
              heading: Бар
              heading_style: title
              card_mod:
                style: |
                  ha-card {
                       background: rgba(100,100,60) !important;
                     }
        grid_options:
          columns: 6
          rows: auto
      - type: custom:button-card
        name: null
        styles:
          card:
            - height: 100px
            - background: transparent
            - border: none
        action: none
      - type: custom:mushroom-chips-card
        chips:
          - type: back
            card_mod:
              style:
                .: |
                  {% set hover = 'true' %}
                  {% set stating = 'false' %}
                  {% include 'chip_settings_style.jinja' %}
          - type: template
            entity: switch.domofon_otkryvat_vsegda
            tap_action:
              action: toggle
            icon: "{{states[config.entity].attributes.icon}}"
            icon_color: |-
              {% if is_state(config.entity, 'off')%} "1"
              {% else %} blue
              {% endif %}
            hold_action:
              action: none
            double_tap_action:
              action: none
            card_mod:
              style:
                .: |
                  {% set hover = 'true' %}
                  {% set stating = 'true' %}
                  {% set state_on = 'on' %}
                  {% include 'chip_settings_style.jinja' %}
          - type: template
            entity: switch.domofon_vsegda_sbrasyvat
            tap_action:
              action: toggle
            icon: "{{states[config.entity].attributes.icon}}"
            icon_color: |-
              {% if is_state(config.entity, 'off')%} "1"
              {% else %} red
              {% endif %}
            hold_action:
              action: none
            double_tap_action:
              action: none
            card_mod:
              style:
                .: |
                  {% set hover = 'true' %}
                  {% set stating = 'true' %}
                  {% set state_on = 'on' %}
                  {% include 'chip_settings_style.jinja' %}
          - type: template
            icon_color: >-
              {% if is_state('switch.domofon_otkliuchit_trubku_domofona','on')%}
              blue {% else %} '1' {% endif %}
            icon: >-
              {% if is_state('switch.domofon_otkliuchit_trubku_domofona','on')%}
              ion:volume-mute {% else %} ion:volume-high {% endif %}
            entity: switch.domofon_otkliuchit_trubku_domofona
            tap_action:
              action: toggle
            hold_action:
              action: none
            double_tap_action:
              action: none
            card_mod:
              style:
                .: |
                  {% set hover = 'true' %}
                  {% set stating = 'true' %}
                  {% set state_on = 'on' %}
                  {% include 'chip_settings_style.jinja' %}
          - type: template
            icon_color: >-
              {% if
              is_state('switch.domofon_otkryvat_na_sleduiushchii_zvonok','on')%}
              blue {% else %} '1' {%endif %}
            icon: "{{states[config.entity].attributes.icon}}"
            entity: switch.domofon_otkryvat_na_sleduiushchii_zvonok
            tap_action:
              action: toggle
            hold_action:
              action: none
            double_tap_action:
              action: none
            card_mod:
              style:
                .: |
                  {% set hover = 'true' %}
                  {% set stating = 'true' %}
                  {% set state_on = 'on' %}
                  {% include 'chip_settings_style.jinja' %}
        alignment: center
        card_mod:
          style:
            mushroom-template-chip:nth-child(1)$: |
              {% set opacity = 0 %}
              {% include 'shadow_chip_icon.jinja' %}
            mushroom-template-chip:nth-child(2)$: |
              {% set opacity = 0 %}
              {% include 'shadow_chip_icon.jinja' %}
            mushroom-template-chip:nth-child(3)$: |
              {% set opacity = 0 %}
              {% include 'shadow_chip_icon.jinja' %}
            mushroom-template-chip:nth-child(4)$: |
              {% set opacity = 0 %}
              {% include 'shadow_chip_icon.jinja' %}
            mushroom-template-chip:nth-child(5)$: |
              {% set opacity = 0 %}
              {% include 'shadow_chip_icon.jinja' %}
            mushroom-template-chip:nth-child(6)$: |
              {% set opacity = 0 %}
              {% include 'shadow_chip_icon.jinja' %}
            .: |

              {% set max_width =150 %}
              {% set chip_height = 40 %}
              {% set chip_padding = 5 %}
              {% set icon_size = 30 %}
              {% set chip_spacing = 20 %}
              {% include 'fixed_bottom_bar.jinja' %}
    grid_options:
      columns: 6
      rows: auto
